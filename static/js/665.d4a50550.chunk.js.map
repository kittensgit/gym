{"version":3,"file":"static/js/665.d4a50550.chunk.js","mappings":"4IACA,QAA0B,6BAA1B,EAAsE,kCAAtE,EAAkH,6BAAlH,EAA6J,iCAA7J,EAA6M,kCAA7M,EAAwP,4BAAxP,EAA2R,0BAA3R,EAA4T,0B,aCc5T,MAyCA,EAzC0CA,IAAkB,IAAjB,QAAEC,GAASD,EAClD,MAAME,GAAeC,EAAAA,EAAAA,GAChBF,EAAQG,UAAUC,KAAmBC,UAG1C,OACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAE,YAAAC,OAAcT,EAAQU,IAAKC,UAC/BC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAeH,SAAA,CAC1BX,EAAQe,QACLT,EAAAA,EAAAA,KAAA,OACIO,UAAWC,EACXE,IAAKhB,EAAQe,MACbE,IAAI,iBAGZL,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAoBH,SAAA,CAAEV,EAAa,sCACnDW,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAeH,SAAA,EAC3BL,EAAAA,EAAAA,KAAA,MAAAK,SAAKX,EAAQkB,QACbZ,EAAAA,EAAAA,KAAA,KAAGO,UAAWC,EAAoBH,SAAEX,EAAQmB,eAC5CP,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAcH,SAAA,EAC1BC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAYH,SAAA,EACxBL,EAAAA,EAAAA,KAAA,OACIU,IACIhB,EAAQoB,KAAKC,UACPrB,EAAQoB,KAAKC,UACbC,EAEVL,IAAI,YAERX,EAAAA,EAAAA,KAAA,MAAAK,SAAKX,EAAQoB,KAAKG,eAEtBjB,EAAAA,EAAAA,KAAA,KAAGO,UAAWC,EAAYH,SACrBX,EAAQG,UAAUqB,yBAKhC,ECnDf,EAA2B,+BCqB3B,EAV4CzB,IAAmB,IAAlB,SAAE0B,GAAU1B,EACrD,OACIO,EAAAA,EAAAA,KAAA,OAAKO,UAAWC,EAAgBH,SAC3Bc,EAASC,KAAK1B,IACXM,EAAAA,EAAAA,KAACqB,EAAW,CAAkB3B,QAASA,GAArBA,EAAQU,OAE5B,C,2ECfP,MAAMkB,EAAcxB,IAChByB,EAAAA,EAAAA,IAAOzB,EAAM,eAAgB,CAChC0B,OAAQC,EAAAA,KAIH7B,EAAgBE,IAClB4B,EAAAA,EAAAA,GAAqB,IAAIC,KAAQ7B,EAAM,CAC1C0B,OAAQC,EAAAA,I,0GCVhB,EAA0B,6BAA1B,EAAiE,6BAAjE,EAAsG,2BAAtG,EAAwI,0BAAxI,EAAwK,yB,aCkBxK,MAsCA,EAtC0ChC,IAA8B,IAA7B,SAAE0B,EAAQ,UAAES,GAAWnC,EAC9D,MAAMoC,EAAiBV,EAASW,MAAK,CAACC,EAAIC,KACtC,MAAMC,EAAUF,EAAGlC,UAAUC,KAAmBC,SAASmC,UAEzD,OADgBF,EAAGnC,UAAUC,KAAmBC,SAASmC,UACzCD,CAAM,IAE1B,OACI3B,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAeH,SAAA,EAC3BC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAeH,SAAA,EAC3BC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,CAAI,gIACwBL,EAAAA,EAAAA,KAAA,QAAAK,SAAM,UAAY,QAE9CC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAaH,SAAA,EACzBL,EAAAA,EAAAA,KAAA,OAAKO,UAAWC,KAChBR,EAAAA,EAAAA,KAAA,OAAKU,I,q7BAAgBC,IAAI,WACzBX,EAAAA,EAAAA,KAAA,OAAKO,UAAWC,QAEpBR,EAAAA,EAAAA,KAAA,KAAAK,SAAG,6tBAKHL,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAI,UAAUG,UAChBC,EAAAA,EAAAA,MAAA,UAAQC,UAAWC,EAAWH,SAAA,CAAC,kHAE3BL,EAAAA,EAAAA,KAAA,OAAKU,I,ymCAAgBC,IAAI,kBAIpCiB,GACG5B,EAAAA,EAAAA,KAACmC,EAAAA,EAAO,KAERnC,EAAAA,EAAAA,KAACoC,EAAAA,EAAY,CAACjB,SAAUU,MAE1B,ECQd,EAtDiBQ,KACb,MAAMC,GAAKC,EAAAA,EAAAA,MACLC,GAAcC,EAAAA,EAAAA,IAAWH,EAAI,aAC5BnB,EAAUuB,IAAeC,EAAAA,EAAAA,UAAqB,KAC9Cf,EAAWgB,IAAgBD,EAAAA,EAAAA,WAAkB,GA2CpD,OAzCAE,EAAAA,EAAAA,YAAU,KACcC,WAChB,IACIF,GAAa,GACb,MACMG,SADqBC,EAAAA,EAAAA,IAAQR,IACeS,KAAK7B,KAClD8B,IACG,MAAMC,EAAOD,EAAWC,QAClB,KACFvC,EAAI,YACJC,EAAW,QACXuC,EAAO,UACPvD,EAAS,KACTiB,EAAI,MACJL,GACA0C,EACJ,MAAO,CACH/C,GAAI8C,EAAW9C,GACfQ,KAAMA,EACNC,YAAaA,EACbuC,QAASA,EACTvD,UAAW,CACPC,KAAMD,EAAUC,KAChBoB,aAAcrB,EAAUqB,cAE5BJ,KAAM,CACFG,SAAUH,EAAKG,SACfF,UAAWD,EAAKC,WAEpBN,MAAOA,EACV,IAGTiC,EAAYK,EAChB,CAAC,QACGH,GAAa,EACjB,GAEJS,EAAa,GACd,KAGCrD,EAAAA,EAAAA,KAAA,OAAKO,UAAU,YAAWF,UACtBL,EAAAA,EAAAA,KAACsD,EAAW,CAACnC,SAAUA,EAAUS,UAAWA,KAC1C,C","sources":["webpack://gym/./src/components/articleCards/articleCard/ArticleCard.module.css?a550","components/articleCards/articleCard/ArticleCard.tsx","webpack://gym/./src/components/articleCards/ArticleCards.module.css?fd06","components/articleCards/ArticleCards.tsx","helpers/formatDate.ts","webpack://gym/./src/components/blogContent/BlogContent.module.css?8b47","components/blogContent/BlogContent.tsx","pages/Blog.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"article\":\"ArticleCard_article__uAnHv\",\"distanceTime\":\"ArticleCard_distanceTime__UgtBn\",\"content\":\"ArticleCard_content__7LuWs\",\"article_img\":\"ArticleCard_article_img__T0VQZ\",\"article_text\":\"ArticleCard_article_text__ZE9uX\",\"author\":\"ArticleCard_author__eRbQv\",\"info\":\"ArticleCard_info__niVZ3\",\"date\":\"ArticleCard_date__v1dmE\"};","import { FC } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Timestamp } from 'firebase/firestore';\r\n\r\nimport { IArticle } from 'types/articles/articles';\r\nimport { distanceDate } from 'helpers/formatDate';\r\n\r\nimport avaIcon from 'assets/icons/ava.png';\r\n\r\nimport styles from './ArticleCard.module.css';\r\n\r\ninterface ArticleCardProps {\r\n    article: IArticle;\r\n}\r\n\r\nconst ArticleCard: FC<ArticleCardProps> = ({ article }) => {\r\n    const distanceTime = distanceDate(\r\n        (article.createdAt.date as Timestamp).toDate()\r\n    );\r\n\r\n    return (\r\n        <Link to={`/article/${article.id}`}>\r\n            <div className={styles.article}>\r\n                {article.image && (\r\n                    <img\r\n                        className={styles.article_img}\r\n                        src={article.image}\r\n                        alt=\"article_img\"\r\n                    />\r\n                )}\r\n                <div className={styles.distanceTime}>{distanceTime} назад</div>\r\n                <div className={styles.content}>\r\n                    <h3>{article.name}</h3>\r\n                    <p className={styles.article_text}>{article.description}</p>\r\n                    <div className={styles.author}>\r\n                        <div className={styles.info}>\r\n                            <img\r\n                                src={\r\n                                    article.user.avatarUrl\r\n                                        ? article.user.avatarUrl\r\n                                        : avaIcon\r\n                                }\r\n                                alt=\"avatar\"\r\n                            />\r\n                            <h4>{article.user.username}</h4>\r\n                        </div>\r\n                        <p className={styles.date}>\r\n                            {article.createdAt.formatedDate}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n    );\r\n};\r\n\r\nexport default ArticleCard;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"articles\":\"ArticleCards_articles__5mPeJ\"};","import { FC } from 'react';\r\n\r\nimport { IArticle } from 'types/articles/articles';\r\n\r\nimport ArticleCard from './articleCard/ArticleCard';\r\n\r\nimport styles from './ArticleCards.module.css';\r\n\r\ninterface ArticleCardsProps {\r\n    articles: IArticle[];\r\n}\r\n\r\nconst ArticleCards: FC<ArticleCardsProps> = ({ articles }) => {\r\n    return (\r\n        <div className={styles.articles}>\r\n            {articles.map((article) => (\r\n                <ArticleCard key={article.id} article={article} />\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ArticleCards;\r\n","import { format, formatDistanceStrict } from 'date-fns';\r\nimport { ru } from 'date-fns/locale';\r\n\r\nexport const formatDate = (date: Date) => {\r\n    return format(date, 'd MMMM, yyyy', {\r\n        locale: ru,\r\n    });\r\n};\r\n\r\nexport const distanceDate = (date: Date) => {\r\n    return formatDistanceStrict(new Date(), date, {\r\n        locale: ru,\r\n    });\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"BlogContent_wrapper__PyPt8\",\"preview\":\"BlogContent_preview__vBHME\",\"decor\":\"BlogContent_decor__QsH+i\",\"line\":\"BlogContent_line__9tG9z\",\"btn\":\"BlogContent_btn__iaYrx\"};","import { FC } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Timestamp } from 'firebase/firestore';\r\n\r\nimport Loading from 'components/common/loading/Loading';\r\nimport ArticleCards from 'components/articleCards/ArticleCards';\r\n\r\nimport { IArticle } from 'types/articles/articles';\r\n\r\nimport decorIcon from 'assets/icons/decor.png';\r\nimport arrowIcon from 'assets/icons/arrow_red.png';\r\n\r\nimport styles from './BlogContent.module.css';\r\n\r\ninterface BlogContentProps {\r\n    isLoading: boolean;\r\n    articles: IArticle[];\r\n}\r\n\r\nconst BlogContent: FC<BlogContentProps> = ({ articles, isLoading }) => {\r\n    const sortedArticles = articles.sort((a1, a2) => {\r\n        const dateA1 = (a1.createdAt.date as Timestamp).toDate().getTime();\r\n        const dateA2 = (a2.createdAt.date as Timestamp).toDate().getTime();\r\n        return dateA2 - dateA1;\r\n    });\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div className={styles.preview}>\r\n                <h1>\r\n                    Добро пожаловать в блог <span>NGYMX</span>!\r\n                </h1>\r\n                <div className={styles.decor}>\r\n                    <div className={styles.line}></div>\r\n                    <img src={decorIcon} alt=\"decor\" />\r\n                    <div className={styles.line}></div>\r\n                </div>\r\n                <p>\r\n                    Следите за новостями, советами и историями успеха с нашим\r\n                    спортивным трекером NGYMX. Делайте каждый шаг на пути к\r\n                    своим фитнес-целям вместе с нами!\r\n                </p>\r\n                <Link to={'/create'}>\r\n                    <button className={styles.btn}>\r\n                        Создайте свою статью\r\n                        <img src={arrowIcon} alt=\"arrow\" />\r\n                    </button>\r\n                </Link>\r\n            </div>\r\n            {isLoading ? (\r\n                <Loading />\r\n            ) : (\r\n                <ArticleCards articles={sortedArticles} />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BlogContent;\r\n","import { FC, useEffect, useState } from 'react';\r\nimport { collection, getDocs, getFirestore } from 'firebase/firestore';\r\n\r\nimport BlogContent from 'components/blogContent/BlogContent';\r\n\r\nimport { IArticle } from 'types/articles/articles';\r\n\r\nconst Blog: FC = () => {\r\n    const db = getFirestore();\r\n    const articlesRef = collection(db, 'articles');\r\n    const [articles, setArticles] = useState<IArticle[]>([]);\r\n    const [isLoading, setIsLoading] = useState<boolean>(false);\r\n\r\n    useEffect(() => {\r\n        const getArticles = async () => {\r\n            try {\r\n                setIsLoading(true);\r\n                const dataArticles = await getDocs(articlesRef);\r\n                const filteredArticles: IArticle[] = dataArticles.docs.map(\r\n                    (articleDoc) => {\r\n                        const data = articleDoc.data();\r\n                        const {\r\n                            name,\r\n                            description,\r\n                            content,\r\n                            createdAt,\r\n                            user,\r\n                            image,\r\n                        } = data;\r\n                        return {\r\n                            id: articleDoc.id,\r\n                            name: name,\r\n                            description: description,\r\n                            content: content,\r\n                            createdAt: {\r\n                                date: createdAt.date,\r\n                                formatedDate: createdAt.formatedDate,\r\n                            },\r\n                            user: {\r\n                                username: user.username,\r\n                                avatarUrl: user.avatarUrl,\r\n                            },\r\n                            image: image,\r\n                        };\r\n                    }\r\n                );\r\n                setArticles(filteredArticles);\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n        getArticles();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <BlogContent articles={articles} isLoading={isLoading} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Blog;\r\n"],"names":["_ref","article","distanceTime","distanceDate","createdAt","date","toDate","_jsx","Link","to","concat","id","children","_jsxs","className","styles","image","src","alt","name","description","user","avatarUrl","avaIcon","username","formatedDate","articles","map","ArticleCard","formatDate","format","locale","ru","formatDistanceStrict","Date","isLoading","sortedArticles","sort","a1","a2","dateA1","getTime","Loading","ArticleCards","Blog","db","getFirestore","articlesRef","collection","setArticles","useState","setIsLoading","useEffect","async","filteredArticles","getDocs","docs","articleDoc","data","content","getArticles","BlogContent"],"sourceRoot":""}